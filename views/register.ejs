<h1>Register</h1>

<form id="myForm">
    <div>
        <label for="name">Name</label>
        <input type="text" id="name" name="name" required>
    </div>
    <div>
        <label for="email">Email</label>
        <input type="text" id="email" name="email" required>
    </div>
    <div>
        <label for="password">password</label>
        <input type="text" id="password" name="password" required>
    </div>

    <!-- <button type="submit" >Register</button> -->
    <input value="Submit" type="submit">
</form>

<a href="/login">Login</a>

<script>
    // I wanted to submit form using appliction/json, but its hard
    // https://stackoverflow.com/questions/22195065/how-to-send-a-json-object-using-html-form-data
    function handleSubmit(event){
        event.preventDefault()

        const data = new FormData(event.target)
        const value = Object.fromEntries(data.entries() )
        console.log('event', event)
        console.log('value', value)

        const xhr = new XMLHttpRequest()
        xhr.open('POST', 'http://10.0.0.55:3000/register')
        xhr.send(value)

    }

    const form = document.getElementById('myForm')
    form.addEventListener('submit', handleSubmit)
</script>